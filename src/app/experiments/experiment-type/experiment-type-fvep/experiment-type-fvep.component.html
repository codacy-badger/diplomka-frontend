<div class="row">
  <div class="col">
    <form [formGroup]="form">

      <!-- Generická hlavička společná pro všechny experimenty -->
      <app-experiment-type-header [form]="form"></app-experiment-type-header>


      <div class="row experiment-property">
        <div class="col-10">
          <h4>F-VEP parametry</h4>
        </div>
        <div class="col-2 text-right" appContentToggler [toggledContent]="fvepParams" [icon]="icon"><i class="fas fa-minus" #icon></i></div>

        <div class="col-12" #fvepParams>
          <div class="row">

            <div class="col-12">
              <div class="form-group" style="padding-bottom: 5px">
                <label for="fvep-output-count">output count</label>
                <ng5-slider id="fvep-output-count" formControlName="outputCount" [options]="outputCountParams"></ng5-slider>
              </div>
            </div>

            <div class="col-12 col-sm-6 col-md-3">
              <div class="form-group">
                <label for="fvep-time-on">time ON</label>
                <input type="number" id="fvep-time-on" class="form-control form-control-sm" [class.is-valid]="timeOn.valid" [class.is-invalid]="timeOn.invalid" formControlName="timeOn">
                <small *ngIf="timeOn.touched && timeOn.errors?.required" class="form-text text-muted">Parametr timeOn je vyžadován.</small>
                <small *ngIf="timeOn.touched && timeOn.errors?.min" class="form-text text-muted">Minimální hodnota je: {{timeOn.errors?.min.min}}.</small>
                <small *ngIf="timeOn.touched && timeOn.errors?.max" class="form-text text-muted">Maximální hodnota je: {{timeOn.errors?.max.max}}.</small>
              </div>
            </div>
            <div class="col-12 col-sm-6 col-md-3">
              <div class="form-group">
                <label for="fvep-time-off">time OFF</label>
                <input type="number" id="fvep-time-off" class="form-control form-control-sm" [class.is-valid]="timeOff.valid" [class.is-invalid]="timeOff.invalid" formControlName="timeOff">
                <small *ngIf="timeOff.touched && timeOff.errors?.required" class="form-text text-muted">Parametr timeOff je vyžadován.</small>
                <small *ngIf="timeOff.touched && timeOff.errors?.min" class="form-text text-muted">Minimální hodnota je: {{timeOff.errors?.min.min}}.</small>
                <small *ngIf="timeOff.touched && timeOff.errors?.max" class="form-text text-muted">Maximální hodnota je: {{timeOff.errors?.max.max}}.</small>
              </div>
            </div>
            <div class="col-12 col-sm-6 col-md-3">
              <div class="form-group">
                <label for="fvep-frequency">frequency</label>
                <input type="number" id="fvep-frequency" class="form-control form-control-sm" [class.is-valid]="frequency.valid" [class.is-invalid]="frequency.invalid" formControlName="frequency">
                <small *ngIf="frequency.touched && frequency.errors?.required" class="form-text text-muted">Parametr frequency je vyžadován.</small>
                <small *ngIf="frequency.touched && frequency.errors?.min" class="form-text text-muted">Minimální hodnota je: {{frequency.errors?.min.min}}.</small>
                <small *ngIf="frequency.touched && frequency.errors?.max" class="form-text text-muted">Maximální hodnota je: {{frequency.errors?.max.max}}.</small>
              </div>
            </div>
            <div class="col-12 col-sm-6 col-md-3">
              <div class="form-group">
                <label for="fvep-duty-cycle">duty cycle</label>
                <input type="number" id="fvep-duty-cycle" class="form-control form-control-sm" [class.is-valid]="dutyCycle.valid" [class.is-invalid]="dutyCycle.invalid" formControlName="dutyCycle">
                <small *ngIf="dutyCycle.touched && dutyCycle.errors?.required" class="form-text text-muted">Parametr dutyCycle je vyžadován.</small>
                <small *ngIf="dutyCycle.touched && dutyCycle.errors?.min" class="form-text text-muted">Minimální hodnota je: {{dutyCycle.errors?.min.min}}.</small>
                <small *ngIf="dutyCycle.touched && dutyCycle.errors?.max" class="form-text text-muted">Maximální hodnota je: {{dutyCycle.errors?.max.max}}.</small>
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="fvep-brightness">brightness [%]</label>
                <ng5-slider id="fvep-brightness" formControlName="brightness" [options]="brightnessSliderOptions"></ng5-slider>
                <small *ngIf="brightness.touched && brightness.errors?.required" class="form-text text-muted">Hodnota nesmí být prázdná!</small>
              </div>
            </div>

          </div>

        </div>
      </div>
    </form>

  </div>
</div>

<app-fab [icon]="(working | async) ? 'fa-save fa-spin' : 'fa-save'" (fabClick)="handleSaveExperiment()" [disabled]="form.invalid || (working | async)"></app-fab>
